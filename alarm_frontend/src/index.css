@tailwind base;
@tailwind components;
@tailwind utilities;

/* Professional Plant Health Dashboard Design System - Green & Neutral Theme */

html {
  scroll-behavior: smooth;
}

@layer base {
  :root {
    /* Light Mode - Greens and Light Neutrals */
    --background: oklch(0.99 0.005 140);  /* Very light green-tinted white */
    --foreground: oklch(0.15 0.02 140);   /* Dark green-gray text */
    --card: oklch(0.98 0.008 140);        /* Light green-tinted card background */
    --card-foreground: oklch(0.15 0.02 140);
    --popover: oklch(0.98 0.008 140);
    --popover-foreground: oklch(0.15 0.02 140);
    
    /* Primary green palette - Using specified shades */
    --primary: #017944;                   /* Dark green #017944 */
    --primary-foreground: oklch(0.98 0.008 140);
    --secondary: #09b073;                 /* Medium green #09b073 */
    --secondary-foreground: oklch(0.20 0.02 140);
    --accent-green: #6eb43f;              /* Light green #6eb43f */
    
    /* Neutral grays with green undertones */
    --muted: oklch(0.94 0.01 140);        /* Light gray-green */
    --muted-foreground: oklch(0.45 0.02 140);
    --accent: oklch(0.92 0.015 140);      /* Accent green-gray */
    --accent-foreground: oklch(0.20 0.02 140);
    
    /* Status colors */
    --destructive: oklch(0.58 0.22 25);   /* Red for errors */
    --destructive-foreground: oklch(0.98 0.008 140);
    
    /* Borders and inputs */
    --border: oklch(0.88 0.02 140);       /* Green-tinted border */
    --input: oklch(0.98 0.008 140);       /* Input background (lighter, subtle green tint) */
    --ring: oklch(0.55 0.15 140);         /* Focus ring matches primary */
    
    /* Chart colors - unified to requested shade #5aa427 (HSL ~ 96 62% 40%) */
    --chart-1: 96 62% 40%;                /* Primary chart green */
    --chart-2: 96 62% 40%;
    --chart-3: 96 62% 40%;
    --chart-4: 96 62% 40%;
    --chart-5: 96 62% 40%;
    
    /* Dashboard specific variables */
    --dashboard-header-bg: oklch(0.97 0.01 140);
    --metric-card-bg: oklch(0.98 0.008 140);
    --metric-card-shadow: 0 2px 8px 0px oklch(0.55 0.15 140 / 0.08), 0 1px 3px -1px oklch(0.55 0.15 140 / 0.12);
    --chart-grid: oklch(0.90 0.02 140);
    --chart-tooltip-bg: oklch(0.97 0.01 140);
    
    /* Success and health indicators */
    --success: #09b073;                   /* Medium green for success */
    --success-foreground: oklch(0.98 0.008 140);
    --warning: oklch(0.70 0.15 80);
    --warning-foreground: oklch(0.15 0.02 140);
    
    --sidebar-background: oklch(0.97 0.01 140);
    --sidebar-foreground: oklch(0.15 0.02 140);
    --sidebar-primary: oklch(0.55 0.15 140);
    --sidebar-primary-foreground: oklch(0.98 0.008 140);
    --sidebar-accent: oklch(0.92 0.015 140);
    --sidebar-accent-foreground: oklch(0.20 0.02 140);
    --sidebar-border: oklch(0.88 0.02 140);
    --sidebar-ring: oklch(0.55 0.15 140);
    
    --font-sans: "Inter var", Inter, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", ui-sans-serif, sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    
    --radius: 0.625rem;
    /* TweakCN shadow scale (added) */
    --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0 1px 3px 0px oklch(0 0% 0% / 0.10), 0 1px 2px -1px oklch(0 0% 0% / 0.10);
    --shadow: 0 1px 3px 0px oklch(0 0% 0% / 0.10), 0 1px 2px -1px oklch(0 0% 0% / 0.10);
    --shadow-md: 0 1px 3px 0px oklch(0 0% 0% / 0.10), 0 2px 4px -1px oklch(0 0% 0% / 0.10);
    --shadow-lg: 0 1px 3px 0px oklch(0 0% 0% / 0.10), 0 4px 6px -1px oklch(0 0% 0% / 0.10);
    --shadow-xl: 0 1px 3px 0px oklch(0 0% 0% / 0.10), 0 8px 10px -1px oklch(0 0% 0% / 0.10);
    --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.25);
    /* Additional design tokens (added) */
    --tracking-normal: 0em;
    --spacing: 0.25rem;
  }

  .dark {
    /* Dark Mode - Neutral Blacks & Greys (matte, no green tint) */
    --background: oklch(0.11 0 0);        /* Matte near-black */
    --foreground: oklch(0.94 0 0);        /* Light neutral text */
    --card: oklch(0.16 0 0);              /* Deep neutral card */
    --card-foreground: oklch(0.94 0 0);
    --popover: oklch(0.14 0 0);           /* Slightly lighter than bg */
    --popover-foreground: oklch(0.94 0 0);
    
    /* Green accents/buttons for dark mode */
    --primary: #09b073;                   /* Medium green for dark mode */
    --primary-foreground: oklch(0.11 0 0);
    --secondary: #6eb43f;                 /* Light green for secondary */
    --secondary-foreground: oklch(0.92 0 0);
    --accent-green: #017944;              /* Dark green accent */
    
    /* Neutral greys, no hue */
    --muted: oklch(0.22 0 0);             /* Dark grey */
    --muted-foreground: oklch(0.72 0 0);
    --accent: oklch(0.24 0 0);            /* Subtle panel/hover */
    --accent-foreground: oklch(0.92 0 0);
    
    /* Status colors for dark mode */
    --destructive: oklch(0.65 0.20 25);   /* Brighter red for dark mode */
    --destructive-foreground: oklch(0.92 0.01 140);
    
    /* Borders and inputs - neutral */
    --border: oklch(0.28 0 0);            /* Neutral grey border */
    --input: oklch(0.16 0 0);             /* Neutral input background */
    --ring: oklch(0.68 0.12 140);         /* Keep green focus ring */
    
    /* Chart colors - unified to requested shade #5aa427 (HSL ~ 96 62% 40%) */
    --chart-1: 96 62% 40%;
    --chart-2: 96 62% 40%;
    --chart-3: 96 62% 40%;
    --chart-4: 96 62% 40%;
    --chart-5: 96 62% 40%;
    
    /* Dashboard specific variables (neutral surfaces) */
    --dashboard-header-bg: oklch(0.13 0 0);
    --metric-card-bg: oklch(0.16 0 0);
    --metric-card-shadow: 0 6px 16px 0px hsl(0 0% 0% / 0.35), 0 2px 8px -2px hsl(0 0% 0% / 0.25);
    --chart-grid: oklch(0.32 0 0);        /* Subtle grid lines */
    --chart-tooltip-bg: oklch(0.18 0 0);
    
    /* Success and health indicators for dark mode */
    --success: #6eb43f;                   /* Light green for dark mode success */
    --success-foreground: oklch(0.12 0.015 140);
    --warning: oklch(0.75 0.15 80);
    --warning-foreground: oklch(0.12 0.015 140);
    
    --sidebar-background: oklch(0.13 0 0);
    --sidebar-foreground: oklch(0.94 0 0);
    --sidebar-primary: oklch(0.68 0.12 140);
    --sidebar-primary-foreground: oklch(0.11 0 0);
    --sidebar-accent: oklch(0.24 0 0);
    --sidebar-accent-foreground: oklch(0.92 0 0);
    --sidebar-border: oklch(0.28 0 0);
    --sidebar-ring: oklch(0.68 0.12 140);
    /* TweakCN shadow scale (added for dark) */
    --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow-md: 0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 2px 4px -1px hsl(0 0% 0% / 0.10);
    --shadow-lg: 0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 4px 6px -1px hsl(0 0% 0% / 0.10);
    --shadow-xl: 0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 8px 10px -1px hsl(0 0% 0% / 0.10);
    --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.25);
  }
  /* Ensure autofill doesn't inject odd background colors */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  textarea:-webkit-autofill,
  select:-webkit-autofill {
    -webkit-text-fill-color: var(--foreground);
    caret-color: var(--foreground);
    box-shadow: 0 0 0px 1000px var(--input) inset;
    -webkit-box-shadow: 0 0 0px 1000px var(--input) inset;
    transition: background-color 9999s ease-in-out 0s;
  }
  ::placeholder { color: oklch(0.45 0.02 140 / 0.7); }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    font-synthesis-weight: none;
    font-synthesis: none;
    @apply bg-background text-foreground font-sans antialiased;
  }
  h1, h2, h3, h4, h5, h6, strong, b {
    font-weight: 400;
  }
}

@layer components {
  .shadow-metric-card {
    box-shadow: var(--metric-card-shadow);
  }
  
  .bg-dashboard-metric-card-bg {
    background-color: var(--metric-card-bg);
  }
  
  .bg-dashboard-header-bg {
    background-color: var(--dashboard-header-bg);
  }
}

@layer utilities {
  @keyframes grid-pan {
    from {
      background-position: 0 0, 0 0;
    }
    to {
      /* Pan diagonally to create subtle motion */
      background-position: 40px 40px, 40px 40px;
    }
  }

  .animate-grid-pan {
    animation: grid-pan 30s linear infinite;
  }

  /* Subtle aurora gradient sweep */
  @keyframes aurora {
    0% { transform: translateY(-10%) rotate(0deg) scale(1); opacity: 0.7; }
    50% { transform: translateY(0%) rotate(180deg) scale(1.05); opacity: 0.9; }
    100% { transform: translateY(-10%) rotate(360deg) scale(1); opacity: 0.7; }
  }
  .animate-aurora { animation: aurora 22s linear infinite; }

  /* Floating blob motion */
  @keyframes float {
    0%   { transform: translateY(0px); }
    50%  { transform: translateY(-12px); }
    100% { transform: translateY(0px); }
  }
  .animate-float { animation: float 6s ease-in-out infinite; }

  /* Card shake for error feedback */
  @keyframes shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
    100% { transform: translateX(0); }
  }
  .animate-shake { animation: shake 420ms ease-in-out; }

  /* Button shimmer effect */
  @keyframes btn-shine {
    0%   { left: -120%; }
    100% { left: 120%; }
  }
  .shine { position: relative; overflow: hidden; }
  .shine::after {
    content: "";
    position: absolute;
    top: 0; bottom: 0;
    left: -120%;
    width: 120%;
    background: linear-gradient( to right, transparent 0%, rgba(255,255,255,0.35) 50%, transparent 100%);
    transform: skewX(-20deg);
    animation: btn-shine 3.2s ease-in-out infinite;
  }

  /* Spotlight behind the card for focus */
  .spotlight {
    /* Neutral vignette for light mode */
    background: radial-gradient(600px 300px at center, hsl(0 0% 0% / 0.10), transparent 70%);
  }
  .dark .spotlight {
    /* Keep green tint in dark mode */
    background: radial-gradient(600px 300px at center, hsl(var(--primary)/0.12), transparent 70%);
  }
}
